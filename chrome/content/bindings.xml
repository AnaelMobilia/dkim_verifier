<?xml version="1.0"?>
<!DOCTYPE bindings [
    <!ENTITY % xulstringsDTD SYSTEM "chrome://dkim_verifier/locale/xulstrings.dtd">
    %xulstringsDTD;
]>

<bindings id="dkim-verifier-bindings"
          xmlns="http://www.mozilla.org/xbl"
          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
          xmlns:xbl="http://www.mozilla.org/xbl">
  
  <binding id="dkim-mail-multi-emailHeaderField"
           extends="chrome://messenger/content/mailWidgets.xml#mail-multi-emailHeaderField">
    <content>
      <xul:hbox class="headerValueBox" anonid="longEmailAddresses" flex="1"
                singleline="true"
                align="baseline">
        <xul:description anonid="dkimFavicon"
                         class="headerValue"
                         tooltip="dkim-verifier-header-tooltip-from"
                         value="" /> <!-- dummy text for align baseline -->
        <xul:description class="headerValue" containsEmail="true"
                         anonid="emailAddresses" flex="1"
                         orient="vertical" pack="start" />
      </xul:hbox>
      <xul:label class="moreIndicator" onclick="this.parentNode.toggleWrap()"
                 collapsed="true" anonid="more"/>
    </content>
    <implementation>
      <field name="dkimFavicon">document.getAnonymousElementByAttribute(this, "anonid", "dkimFavicon");</field>

      <property name="dkimFaviconUrl">
        <setter><![CDATA[
          this.dkimFavicon.style.backgroundImage = "url('" + val + "')";
          this.dkimFavicon.style.backgroundPosition = "center center";
          this.dkimFavicon.style.backgroundRepeat = "no-repeat";
          if (val) {
            this.setAttribute("dkimFavicon", true);
          } else {
            this.setAttribute("dkimFavicon", false);
          }
        ]]></setter>
      </property>
    </implementation>
  </binding>
</bindings>
<!-- vim: set et ts=2 sw=2 : -->
